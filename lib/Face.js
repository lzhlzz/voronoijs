function import$(t,s){var n={}.hasOwnProperty;for(var i in s)n.call(s,i)&&(t[i]=s[i]);return t}Convex.face=function(t,s,n){var i,r,u=this;return null==n&&(n=!1),this.convex=t,this.idx=s,this.active=n,this.pts=s.map(function(s){return t.pts[s]}),this.norm=Aux.cross(Aux.sub(this.pts[2],this.pts[0]),Aux.sub(this.pts[1],this.pts[0])),i=["x","y","z"].reduce(function(t,s){return t+Math.pow(u.norm[s],2)},0),this.norm={x:this.norm.x/i,y:this.norm.y/i,z:this.norm.z/i},this.front=function(t){return Aux.inner(this.norm,Aux.sub(t,this.pts[0]))>0},this.center=function(){var t,s=this;return t={x:0,y:0,z:0},this.pts.map(function(n){return t.x+=n.x/s.pts.length,t.y+=n.y/s.pts.length,t.z+=n.z/s.pts.length}),t},r=Aux.inner(this.norm,Aux.sub(t.center,this.pts[0])),r>0?(["x","y","z"].forEach(function(t){return u.norm[t]=-u.norm[t]}),this.pts.reverse(),this.idx.reverse()):0===r&&(this.trivial=!0),this},import$(Convex.face.prototype,{dual:function(){var t,s,n,i,r,u,h,e,o,a,p,x,c,l,v,f,m;return this.dual.value&&this.dual.value,t=this.pts[0],s=t.x,n=t.y,i=t.z,t=this.pts[1],r=t.x,u=t.y,h=t.z,t=this.pts[2],e=t.x,o=t.y,a=t.z,p=n*(h-a)+u*(a-i)+o*(i-h),x=i*(r-e)+h*(e-s)+a*(s-r),c=s*(u-o)+r*(o-n)+e*(n-u),l=s*(u*a-o*h)+r*(o*i-n*a)+e*(n*h-u*i),v=.5*-p/c,f=.5*-x/c,m=-l/c,this.dual.value={x:v,y:f,z:m},this.dual.value}});