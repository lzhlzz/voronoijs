function import$(t,s){var i={}.hasOwnProperty;for(var r in s)i.call(s,r)&&(t[r]=s[r]);return t}Voronoi.face=function(t,s,i){var r,n,u=this;return null==i&&(i=!1),this.convex=t,this.idx=s,this.active=i,this.pts=s.map(function(s){return t.pts[s]}),this.norm=Aux.cross(Aux.sub(this.pts[2],this.pts[0]),Aux.sub(this.pts[1],this.pts[0])),r=["x","y","z"].reduce(function(t,s){return t+Math.pow(u.norm[s],2)},0),this.norm={x:this.norm.x/r,y:this.norm.y/r,z:this.norm.z/r},this.front=function(t){return Aux.inner(this.norm,Aux.sub(t,this.pts[0]))>0},this.center=function(){var t,s=this;return t={x:0,y:0,z:0},this.pts.map(function(i){return t.x+=i.x/s.pts.length,t.y+=i.y/s.pts.length,t.z+=i.z/s.pts.length}),t},n=Aux.inner(this.norm,Aux.sub(t.center,this.pts[0])),n>0?(["x","y","z"].forEach(function(t){return u.norm[t]=-u.norm[t]}),this.pts.reverse(),this.idx.reverse()):0===n&&(this.trivial=!0),this},import$(Voronoi.face.prototype,{dual:function(){var t,s,i,r,n,u,h,e,o,a,p,x,c,l,f,m,v;return this.dual.value&&this.dual.value,t=this.pts[0],s=t.x,i=t.y,r=t.z,t=this.pts[1],n=t.x,u=t.y,h=t.z,t=this.pts[2],e=t.x,o=t.y,a=t.z,p=i*(h-a)+u*(a-r)+o*(r-h),x=r*(n-e)+h*(e-s)+a*(s-n),c=s*(u-o)+n*(o-i)+e*(i-u),l=s*(u*a-o*h)+n*(o*r-i*a)+e*(i*h-u*r),f=.5*-p/c,m=.5*-x/c,v=-l/c,this.dual.value={x:f,y:m,z:v},this.dual.value}});