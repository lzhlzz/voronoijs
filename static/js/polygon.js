var Polygon;Voronoi.Polygon=Polygon={},Polygon.center=function(n){return n&&n.length?{x:n.reduce(function(n,e){return n+e.x},0)/n.length,y:n.reduce(function(n,e){return n+e.y},0)/n.length}:{x:0/0,y:0/0}},Polygon.area=function(n){var e,t,r,u;return function(){var o,y,h,l=[];for(o=0,y=n.length;y>o;++o)e=o,t=(e+1)%n.length,h=[n[e],n[t]],r=h[0],u=h[1],l.push(r.x*u.y-r.y*u.x);return l}().reduce(function(n,e){return n+e/2},0)},Polygon.intersect=function(n,e){function t(n,e){return n+e.x}function r(n,e){return n+e.y}var u,o,y,h,l,c,g,x,f,i,a,P,d,s,v,p,M,I,w,V,b,j,k,m,q,z,A,B,C,D,E,F,G;for(u=!1,o=n.reduce(function(n,e){return n+e.x},0)/n.length,y=n.reduce(function(n,e){return n+e.y},0)/n.length,h=0,l=n.length;l>h;++h){for(c=h,g=[n[c],n[(c+1)%n.length]],x=g[0],f=g[1],g=[f.x-x.x,f.y-x.y],i=g[0],a=g[1],P=e.reduce(t,0)/e.length,d=e.reduce(r,0)/e.length,s=x.x*a-x.y*i,p=[],M=0,I=e.length;I>M;++M)w=M,g=[e[w],e[(w+1)%e.length]],V=g[0],b=g[1],g=[b.x-V.x,b.y-V.y],j=g[0],k=g[1],k*i-j*a!==0&&(m=(V.x*a-V.y*i-s)/(k*i-j*a),0>m||m>1||(g=[V.x+j*m,V.y+k*m],q=g[0],z=g[1],g=[P-q,d-z],A=g[0],B=g[1],C=(-i*k+a*j)*(-A*k+B*j)>0,p.push([m,w,q,z,C])));if(v=p,v.length<2){if((-(o-x.x)*a+(y-x.y)*i)*(-(P-x.x)*a+(d-x.y)*i)<0)return[]}else{g=v[0][4]?[v[0],v[1]]:[v[1],v[0]],D=g[0],E=g[1],F=[{x:D[2],y:D[3]},{x:E[2],y:E[3]}],G=E[1];do G=(G+1)%e.length,F.push(e[G]);while(G!==D[1]);e=F}}return e},Polygon.create=function(n,e,t){var r,u,o=[];for(3>t&&(t=3),r=0;t>r;++r)u=r,o.push({x:1*(n/2+n/2*Math.cos(2*Math.PI*u/t)),y:1*(e/2+e/2*Math.sin(2*Math.PI*u/t))});return o};