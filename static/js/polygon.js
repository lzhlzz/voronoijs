var Polygon;Voronoi.Polygon=Polygon={},Polygon.centroid=function(n){var e,r,t,o,y,u,x,h,l;if(!n||!n.length)return{x:0/0,y:0/0};for(e=n.length,r=[0,0,0],t=r[0],o=r[1],y=r[2],u=0;e>u;++u)x=u,r=[n[x],n[(x+1)%e]],h=r[0],l=r[1],t+=(h.x+l.x)*(h.x*l.y-l.x*h.y),o+=(h.y+l.y)*(h.x*l.y-l.x*h.y),y+=3*(h.x*l.y-l.x*h.y);return{x:t/y,y:o/y}},Polygon.area=function(n){var e,r,t,o;return function(){var y,u,x,h=[];for(y=0,u=n.length;u>y;++y)e=y,r=(e+1)%n.length,x=[n[e],n[r]],t=x[0],o=x[1],h.push(t.x*o.y-t.y*o.x);return h}().reduce(function(n,e){return n+e/2},0)},Polygon.intersect=function(n,e){function r(n,e){return n+e.x}function t(n,e){return n+e.y}var o,y,u,x,h,l,g,c,f,i,a,P,s,d,v,p,M,I,w,V,b,j,k,m,q,z,A,B,C,D,E,F;if(!n||!n.length)return[];for(o=n.reduce(function(n,e){return n+e.x},0)/n.length,y=n.reduce(function(n,e){return n+e.y},0)/n.length,u=0,x=n.length;x>u;++u){for(h=u,l=[n[h],n[(h+1)%n.length]],g=l[0],c=l[1],l=[c.x-g.x,c.y-g.y],f=l[0],i=l[1],a=e.reduce(r,0)/e.length,P=e.reduce(t,0)/e.length,s=g.x*i-g.y*f,v=[],p=0,M=e.length;M>p;++p)I=p,l=[e[I],e[(I+1)%e.length]],w=l[0],V=l[1],l=[V.x-w.x,V.y-w.y],b=l[0],j=l[1],j*f-b*i!==0&&(k=(w.x*i-w.y*f-s)/(j*f-b*i),0>k||k>1||(l=[w.x+b*k,w.y+j*k],m=l[0],q=l[1],l=[a-m,P-q],z=l[0],A=l[1],B=(-f*j+i*b)*(-z*j+A*b)>0,v.push([k,I,m,q,B])));if(d=v,d.length<2){if((-(o-g.x)*i+(y-g.y)*f)*(-(a-g.x)*i+(P-g.y)*f)<0)return[]}else{l=d[0][4]?[d[0],d[1]]:[d[1],d[0]],C=l[0],D=l[1],E=[{x:C[2],y:C[3]},{x:D[2],y:D[3]}],F=D[1];do F=(F+1)%e.length,E.push(e[F]);while(F!==C[1]);e=E}}return e},Polygon.create=function(n,e,r){var t,o,y=[];for(3>r&&(r=3),t=0;r>t;++t)o=t,y.push({x:1*(n/2+n/2*Math.cos(2*Math.PI*o/r)),y:1*(e/2+e/2*Math.sin(2*Math.PI*o/r))});return y};