var Polygon;Voronoi.Polygon=Polygon={},Polygon.centroid=function(n){var e,r,t,o,y,u,x,h,l;if(!n||!n.length)return{x:0/0,y:0/0};for(e=n.length,r=[0,0,0],t=r[0],o=r[1],y=r[2],u=0;e>u;++u)x=u,r=[n[x],n[(x+1)%e]],h=r[0],l=r[1],t+=(h.x+l.x)*(h.x*l.y-l.x*h.y),o+=(h.y+l.y)*(h.x*l.y-l.x*h.y),y+=3*(h.x*l.y-l.x*h.y);return{x:t/y,y:o/y}},Polygon.area=function(n){var e,r,t,o;return function(){var y,u,x,h=[];for(y=0,u=n.length;u>y;++y)e=y,r=(e+1)%n.length,x=[n[e],n[r]],t=x[0],o=x[1],h.push(t.x*o.y-t.y*o.x);return h}().reduce(function(n,e){return n+e/2},0)},Polygon.intersect=function(n,e){function r(n,e){return n+e.x}function t(n,e){return n+e.y}var o,y,u,x,h,l,g,c,f,i,a,P,s,d,v,p,M,I,w,V,b,j,k,m,q,z,A,B,C,D,E,F,G;for(o=!1,y=n.reduce(function(n,e){return n+e.x},0)/n.length,u=n.reduce(function(n,e){return n+e.y},0)/n.length,x=0,h=n.length;h>x;++x){for(l=x,g=[n[l],n[(l+1)%n.length]],c=g[0],f=g[1],g=[f.x-c.x,f.y-c.y],i=g[0],a=g[1],P=e.reduce(r,0)/e.length,s=e.reduce(t,0)/e.length,d=c.x*a-c.y*i,p=[],M=0,I=e.length;I>M;++M)w=M,g=[e[w],e[(w+1)%e.length]],V=g[0],b=g[1],g=[b.x-V.x,b.y-V.y],j=g[0],k=g[1],k*i-j*a!==0&&(m=(V.x*a-V.y*i-d)/(k*i-j*a),0>m||m>1||(g=[V.x+j*m,V.y+k*m],q=g[0],z=g[1],g=[P-q,s-z],A=g[0],B=g[1],C=(-i*k+a*j)*(-A*k+B*j)>0,p.push([m,w,q,z,C])));if(v=p,v.length<2){if((-(y-c.x)*a+(u-c.y)*i)*(-(P-c.x)*a+(s-c.y)*i)<0)return[]}else{g=v[0][4]?[v[0],v[1]]:[v[1],v[0]],D=g[0],E=g[1],F=[{x:D[2],y:D[3]},{x:E[2],y:E[3]}],G=E[1];do G=(G+1)%e.length,F.push(e[G]);while(G!==D[1]);e=F}}return e},Polygon.create=function(n,e,r){var t,o,y=[];for(3>r&&(r=3),t=0;r>t;++t)o=t,y.push({x:1*(n/2+n/2*Math.cos(2*Math.PI*o/r)),y:1*(e/2+e/2*Math.sin(2*Math.PI*o/r))});return y};